
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>无标题文档</title>
    <script type="text/javascript">
        window.onload = function () {

            var oInput = document.getElementById("input1");
            var oDiv = document.getElementById("div1");
            function randomNum(alls, now)
            {
                var arr = [];
                var newArr = [];
                for (var i = 1; i <= alls; i++)
                {
                    arr.push(i);
                }
                for (var i = 0; i < now; i++)
                {
                    var a = Math.floor(Math.random() * arr.length);
                    newArr.push(arr.splice(a, 1));
                }
                return newArr;
            }
            //hashchange监听 以#_____的方式记录在URL上
//            window.onhashchange = function () {
//                console.log(window.location.hash);
//            };

            //pushState:三个参数：数据  标题(都没实现) 地址(可选）
            //popstate事件： 读取数据  event.state
            oInput.onclick = function ()
            {
                var number = randomNum(35, 7);
                // window.location.hash=number; hashchange存储方法
                oDiv.innerHTML = number;
                history.pushState(number, '', "");
            };
            window.onpopstate = function (ev)
            {
                var number = ev.state || '';
                oDiv.innerHTML = number;
            };

        };
    </script>
</head>

<body>
    <input type="button" id="input1" value="35选7" />
    <div id="div1"></div>
</body>
</html>
